# ui/forgot.kv

#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
#:import dp kivy.metrics.dp

<ForgotPasswordScreen>:
    name: 'forgot'

    ## ─── BACKGROUND───────────────────────────────────
    canvas.before:
        # 1) White background
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size



    ## ─── OPTIONAL: Background image (uncomment if desired) ─────────────
    FloatLayout:
        # 1) Background Image (faded temple silhouette)
        Image:
            source: 'data/bg.jpg'
            allow_stretch: True
            keep_ratio: False
            opacity: 0.3
            size: root.size
            pos: root.pos

    ## ─── “← Back” BUTTON AT TOP-LEFT ───────────────────────────────────
    MDRaisedButton:
        text: "Back"
        size_hint: None, None
        size: dp(80), dp(30)
        pos_hint: {'x':0.02, 'top':0.98}
        background_normal: ''
        background_color: [0.9, 0.5, 0.2, 1]
        color: [1, 1, 1, 1]
        font_size: '14sp'
        radius: [10, 10, 10, 10]
        on_release: root.go_back()

    ## ─── FORM CONTENT ─────────────────────────────────────────────────
    BoxLayout:
        orientation: 'vertical'
        size_hint: .4, None
        height: dp(300)
        pos_hint: {'center_x': .5, 'center_y': .5}
        spacing: dp(12)
        padding: [dp(20), dp(20)]

        # ─── Title “FORGOT PASSWORD” ─────────────────────────────────
        Label:
            text: "Forgot Password"
            font_size: '60sp'
            bold: True
            color: [0.2, 0.2, 0.2, 1]
            size_hint_y: None
            height: self.texture_size[1]
            halign: 'center'
            valign: 'middle'

        # ─── Email ──────────────────────────────────────────────────
        TextInput:
            id: email_input
            hint_text: "Email"
            size_hint_y: None
            height: dp(40)
            multiline: False
            input_type: 'text'
            padding: [dp(10), dp(10)]
            background_normal: ''
            background_color: [1, 1, 1, 1]
            foreground_color: [0, 0, 0, 1]


        Label:
            id: security_question_label
            text: ""
            opacity: 0
            disabled: True
            size_hint_y: None
            height: dp(40)
            color: [0.2, 0.2, 0.2, 1]
            font_size: '16sp'
            text_size: self.width, None
            halign: 'left'
            valign: 'middle'

        TextInput:
            id: security_answer_input
            hint_text: "Your answer"
            opacity: 0
            disabled: True
            size_hint_y: None
            height: dp(40)
            multiline: False

        # ─── New Password ─────────────────────────────────────────────
        TextInput:
            id: new_password_input
            hint_text: "New Password"
            password: True
            size_hint_y: None
            height: dp(40)
            multiline: False
            padding: [dp(10), dp(10)]
            background_normal: ''
            background_color: [1, 1, 1, 1]
            foreground_color: [0, 0, 0, 1]

        # ─── Confirm New Password ───────────────────────────────────
        TextInput:
            id: confirm_new_password_input
            hint_text: "Confirm New Password"
            password: True
            size_hint_y: None
            height: dp(40)
            multiline: False
            padding: [dp(10), dp(10)]
            background_normal: ''
            background_color: [1, 1, 1, 1]
            foreground_color: [0, 0, 0, 1]

        # ─── RESET PASSWORD Button (Hot Pink) ───────────────────────
        MDRaisedButton:
            text: "Reset Password"
            size_hint_y: None
            height: dp(50)
            on_release: root.on_reset_button()
            background_normal: ''
            background_color: [0.9, 0.5, 0.2, 1]
            color: [1, 1, 1, 1]
            font_size: '18sp'
            radius: [10, 10, 10, 10]
